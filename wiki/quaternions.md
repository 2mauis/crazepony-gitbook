---
layout: wiki
title: 四元数与四轴飞行器
---

# {{ page.title }}

## 四轴飞行器姿态解算中为什么要用四元数

四元数是由爱尔兰数学家威廉·卢云·哈密顿在1843年发现的数学概念。从明确地角度而言，四元数是复数的不可交换延伸。如把四元数的集合考虑成多维实数空间的话，四元数就代表着一个四维空间，相对于复数为二维空间。

四元数大量用于电脑绘图（及相关的图像分析）上表示三维物件的旋转及方位。四元数亦见于控制论、信号处理、姿态控制、物理和轨道力学，都是用来表示旋转和方位。

相对于另两种旋转表示法（矩阵和欧拉角），四元数具有某些方面的优势，如速度更快、提供平滑插值、有效避免万向锁问题、存储空间较小等等。

以上部分摘自[维基百科-四元数](http://zh.wikipedia.org/wiki/%E5%9B%9B%E5%85%83%E6%95%B0)。

总结来说，姿态解算中使用四元数来表示飞行器的姿态，包括旋转和方位。另外还有两种表示的方法是矩阵和欧拉角。在获得四元数之后，会将其转化为欧拉角，然后输入到姿态控制算法中。Crazepony就是这样做的。

## AD值->四元数->欧拉角
姿态控制算法的输入参数必须要是欧拉角。

AD值是值MPU6050的陀螺仪和加速度值。

AD值必须先得到四元数，然后才能通过四元数得到欧拉角。这个四元数可能是软件，主控芯片（STM32）读取到ad值，用软件从ad值算得，或者是通过MPU6050中的DMP硬解，主控芯片（STM32）直接读取到四元数。





